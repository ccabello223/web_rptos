<mat-tab-group class="m-4">
    <mat-tab label="Registrar Pedido">
        <form class="flex flex-column" [formGroup]="pedidoFormulario" (ngSubmit)="guardarNota()">

            <mat-form-field class="m-1" *ngFor="let item of items">
                <mat-label>{{item.name}}</mat-label>
                <input type="text" matInput placeholder="{{item.name}}" formControlName="{{item.dist}}" required>
            </mat-form-field>

            <div class="file-upload mt-3" (dragover)="onDragOver($event)" (drop)="onDrop($event)">
                <label for="fileInput" class="file-upload-label">
                    <span>Seleccione la(s) foto(s) del comprobante del pago</span>
                    <input type="file" id="fileInput" (change)="onFileSelected($event)" multiple>
                </label>
                <!-- BotÃ³n para limpiar los archivos cargados -->
                <button mat-raised-button color="primary" class="ml-3" *ngIf="selectedFiles.length > 0"
                    (click)="clearSelectedFiles()">Limpiar archivos</button>

                <!-- Agregar el mensaje de archivos cargados -->
                <div *ngIf="selectedFiles.length > 0" class="file-list">
                    <p>Archivos cargados:</p>
                    <ul>
                        <li *ngFor="let file of selectedFiles">{{ file.name }}</li>
                    </ul>
                </div>
            </div>
            <button mat-button mat-flat-button color="primary" class="m-3" type="submit">
                <mat-icon>save</mat-icon>
                Ingresar
            </button>

        </form>
    </mat-tab>
    <mat-tab label="Historial Pedido">
        <table mat-table [dataSource]="dataSource" class="mat-elevation-z8 demo-table">
            <!-- Position Column -->
            <ng-container matColumnDef="position">
              <th mat-header-cell *matHeaderCellDef>No.</th>
              <td mat-cell *matCellDef="let element">{{element.position}}</td>
            </ng-container>
          
            <!-- Name Column -->
            <ng-container matColumnDef="name">
              <th mat-header-cell *matHeaderCellDef>Name</th>
              <td mat-cell *matCellDef="let element">{{element.name}}</td>
            </ng-container>
          
            <!-- Weight Column -->
            <ng-container matColumnDef="weight">
              <th mat-header-cell *matHeaderCellDef>Weight</th>
              <td mat-cell *matCellDef="let element">{{element.weight}}</td>
            </ng-container>
          
            <!-- Symbol Column -->
            <ng-container matColumnDef="symbol">
              <th mat-header-cell *matHeaderCellDef>Symbol</th>
              <td mat-cell *matCellDef="let element">{{element.symbol}}</td>
            </ng-container>

            <ng-container matColumnDef="notas">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Notas</th>
                <td mat-cell *matCellDef="let element">
                  <button mat-icon-button (click)="openDialog(element)">
                    <mat-icon>edit</mat-icon>
                  </button>
                </td>
              </ng-container>
          
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr
                mat-row
                (click)="clickedRows.add(row)"
                [class.demo-row-is-clicked]="clickedRows.has(row)"
                *matRowDef="let row; columns: displayedColumns;"
            ></tr>
          </table>
          
          <div>
            <h3>
              Click Log
            </h3>
          </div>
          
          <div *ngIf="!clickedRows.size">
            Clicked rows will be logged here
          </div>
          
          <ul>
            <li *ngFor="let clickedRow of clickedRows">
              Clicked on {{clickedRow.name}}
            </li>
          </ul>
    </mat-tab>
</mat-tab-group>